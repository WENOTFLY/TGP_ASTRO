) –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Codex

–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–Ø–∑—ã–∫: Python 3.11+. –§—Ä–µ–π–º: FastAPI + aiogram 3.x. –û—á–µ—Ä–µ–¥—å: Celery/RQ + Redis. –ë–î: PostgreSQL + Alembic. –•—Ä–∞–Ω–∏–ª–∏—â–µ: S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ.

–õ–∏–Ω—Ç–µ—Ä—ã: ruff/black; —Ç–∏–ø–∏–∑–∞—Ü–∏—è: mypy(strict); —Ç–µ—Å—Ç—ã: pytest (coverage ‚â• 90%).

Docker: app, db, redis, minio, worker.

–°–æ–∑–¥–∞—Ç—å Makefile, .env.sample, docker-compose.yml, –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (—Å–º. ¬ß1.2).

–í–µ–±—Ö—É–∫ Telegram

–†–æ—É—Ç /tg/webhook (HTTPS), allowed_updates=["message","callback_query","my_chat_member","pre_checkout_query"].

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–µ–±—Ö—É–∫–∞ –∏ healthchecks.

–†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–¥—É–ª–µ–π-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É: –∫–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç ‚Äî –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (—Å–º. ¬ß3.1).

–ü–æ–¥–Ω—è—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏ (—Å–º. ¬ß2.1).

–ò–Ω–≥–µ—Å—Ç–µ—Ä –∞—Å—Å–µ—Ç–æ–≤

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä/–∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä assets: (—Å–º. ¬ß4).

–ü—Ä–æ–≥–Ω–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ; —Ö—Ä–∞–Ω–∏—Ç—å –∏–Ω–¥–µ–∫—Å –≤ –ë–î (decks) + –∫—ç—à.

–ü–ª–∞—Ç–µ–∂–∏ –∏ –∫–≤–æ—Ç—ã

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Stars (XTR): –∏–Ω–≤–æ–π—Å—ã, pre_checkout, successful_payment, entitlements.

–í–∏—Ç—Ä–∏–Ω–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ + —É—á—ë—Ç –ª–∏–º–∏—Ç–æ–≤ (—Å–º. ¬ß5).

–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è

–°–æ–±—ã—Ç–∏—è –∏ –¥–∞—à–±–æ—Ä–¥—ã (—Å–º. ¬ß7).

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è

–û–±—â–∞—è —à–∏–Ω–∞: Draw ‚Üí Compose ‚Üí Writer ‚Üí Verifier ‚Üí Deliver.

–ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤—Å–µ —ç–∫—Å–ø–µ—Ä—Ç—ã —Å –∏—Ö —Å–ø–µ—Ü–∏—Ñ–∏–∫–æ–π (—Å–º. ¬ß3.3‚Äì¬ß3.10).

1) –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
1.1 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

Bot: FSM/Handlers, payments, keyboards, i18n.

Core: –ø–ª–∞–≥–∏–Ω—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, Draw/Compose, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã, –ª–∏–º–∏—Ç—ã, –ø–ª–∞—Ç–µ–∂–∏.

NLP: Guide/Writer/Verifier/Localizer (—Å—Ç—Ä–æ–≥–∏–µ JSON-–æ—Ç–≤–µ—Ç—ã).

Storage: S3 + PDF/PNG –≥–µ–Ω–µ—Ä–∞—Ü–∏—è.

Telemetry: —Å–æ–±—ã—Ç–∏—è, –º–µ—Ç—Ä–∏–∫–∏, –∞–¥–º–∏–Ω-—Å—Ä–µ–∑—ã.

1.2 –î–µ—Ä–µ–≤–æ –ø—Ä–æ–µ–∫—Ç–∞
/app
  /bot               # Telegram-–æ–±–≤—è–∑–∫–∞ (aiogram), FSM, UI
  /core
    /plugins         # —Ä–µ–µ—Å—Ç—Ä –∏ –ø–ª–∞–≥–∏–Ω—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
    /assets          # –∏–Ω–≥–µ—Å—Ç–µ—Ä, –∏–Ω–¥–µ–∫—Å—ã, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
    /draw            # –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    /compose         # —Å–±–æ—Ä–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∫–æ–ª–ª–∞–∂–∏, –¥–∏–∞–≥—Ä–∞–º–º—ã, –∫–æ–ª—ë—Å–∞)
    /limits          # –∫–≤–æ—Ç—ã, fair-use, —Ç—Ä–æ—Ç—Ç–ª–∏–Ω–≥
    /payments        # Stars, –ø—Ä–æ–¥—É–∫—Ç—ã, entitlements
    /telemetry       # track(), —Å–æ–±—ã—Ç–∏—è, –º–µ—Ç—Ä–∏–∫–∏
  /experts
    /tarot           # –º–æ–¥—É–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞ –¢–∞—Ä–æ
    /lenormand
    /runes
    /numerology
    /astrology
    /dreams
    /copywriter
    /assistant
  /nlp
    /guide           # –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ —à–∞–≥–∞–º
    /writer          # –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (strict JSON)
    /verifier        # –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–∫—Ç–æ–≤/—á–∏—Å–µ–ª/–∫–∞—Ä—Ç
    /localizer
  /api               # FastAPI —Ä–æ—É—Ç—ã: /tg/webhook, /exports/pdf, /admin/*
  /storage           # s3 utils, html->pdf
  /db                # –º–æ–¥–µ–ª–∏ + alembic
  /tests             # unit + e2e
/assets              # –∫–∞—Ç–∞–ª–æ–≥–∏ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏/–º–∞–Ω–∏—Ñ–µ—Å—Ç–∞–º–∏ (—Å–º. ¬ß4)

2) UX: –º–µ–Ω—é, —à–∞–≥–∏, CTA
2.1 –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–∏–Ω–ª–∞–π–Ω)

üÉè –¢–∞—Ä–æ–ª–æ–≥ | ‚ô£ –õ–µ–Ω–æ—Ä–º–∞–Ω | ·ö± –†—É–Ω–æ–ª–æ–≥ | ‚ú® –ê—Å—Ç—Ä–æ–ª–æ–≥ | üåô –°–Ω—ã | ‚úçÔ∏è –ö–æ–ø–∏—Ä–∞–π—Ç–µ—Ä | ü§ñ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç | üî¢ –ù—É–º–µ—Ä–æ–ª–æ–≥ | üíé –ü—Ä–µ–º–∏—É–º/–û–ø–ª–∞—Ç–∞ | üë§ –ü—Ä–æ—Ñ–∏–ª—å/–ò—Å—Ç–æ—Ä–∏—è

2.2 –®–∞–±–ª–æ–Ω —Ñ–ª–æ—É —ç–∫—Å–ø–µ—Ä—Ç–∞ (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

Intro + ¬´–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?¬ª

–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (–º–∏–∫—Ä–æ-—Ñ–æ—Ä–º—ã; Guide –¥–∞—ë—Ç –∫–æ—Ä–æ—Ç–∫–∏–π —Å–æ–≤–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ)

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí ¬´–ì–æ—Ç–æ–≤–∏–º¬ª

–°–æ–æ–±—â–µ–Ω–∏–µ #1: –∫–∞—Ä—Ç–∏–Ω–∫–∞ + TL;DR

–°–æ–æ–±—â–µ–Ω–∏–µ #2: —Ç–µ–∫—Å—Ç (—Å–µ–∫—Ü–∏—è–º–∏), ¬´3 —à–∞–≥–∞ –¥–µ–π—Å—Ç–≤–∏–π¬ª, –¥–∏—Å–∫–ª–µ–π–º–µ—Ä—ã

CTA: ¬´–£—Ç–æ—á–Ω–∏—Ç—å¬ª, ¬´–î–æ—Ç—è–Ω—É—Ç—å X¬ª, ¬´–î—Ä—É–≥–æ–π —Å–ø—Ä–µ–¥/—Ä–µ–∂–∏–º¬ª, ¬´PDF/–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª, ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª

–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å—Ç–∞—Ç–æ–∫ –∫–≤–æ—Ç—ã –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π –∞–ø—Å–µ–ª–ª

3) –ü–ª–∞–≥–∏–Ω—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (–º–æ–¥—É–ª—å–Ω–æ)
3.1 –û–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–ª–∞–≥–∏–Ω–∞

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç:

plugin_id: str (e.g. "tarot", "numerology").

form_steps(locale) -> [Step] (–æ–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–π).

prepare(input) -> Facts (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã/—ç–ª–µ–º–µ–Ω—Ç—ã).

compose(facts) -> ImageBundle (–µ–¥–∏–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞/–Ω–∞–±–æ—Ä).

write(facts, locale, tone) -> StructuredText (Writer, strict JSON).

verify(facts, text) -> {ok, diffs} (Verifier).

cost() -> int or "unlimited" (—Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ –≤ –∫–≤–æ—Ç–µ).

cta(facts) -> [SuggestedActions] (–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è).

products_supported (–µ—Å–ª–∏ –º–æ–¥—É–ª—é –Ω—É–∂–Ω—ã –¥–æ–ø. –ø–ª–∞—Ç–µ–∂–∏ ‚Äî –æ–ø—Ü.).

3.2 –û–±—â–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ö–∞–Ω–≤–∞—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1080√ó1080, —Ñ–æ–Ω –∏–∑ /assets/backgrounds.

–û—Ç—Å—Ç—É–ø—ã: gutter ‚â• 24px; –ø–æ–¥–ø–∏—Å–∏ ‚â• 28px, —à—Ä–∏—Ñ—Ç Inter.

–í–µ—Å —Ñ–∞–π–ª–∞ ‚â§ 3 –ú–ë (WebP 80 / JPEG 85).

–í–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫ (—Ç–æ–Ω–∫–∏–π), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.

3.3 –¢–ê–†–û (üÉè Tarot)
3.3.1 –ö–æ–ª–æ–¥–∞/–∞—Å—Å–µ—Ç—ã

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /assets/tarot/<deck_id>/

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã: deck.json, /cards/*.png (78 —à—Ç), back.png, –æ–ø—Ü. frame.png.

deck.json:

deck_id, name{ru,en}, type:"tarot", image:{aspect_ratio:"3:5",allow_reversed:true,frame?,default_back}

cards[]:
key (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π id, –Ω–∞–ø—Ä. major_00_fool, cups_ace),
display{ru,en}, file, arcana (major/minor), suit (wands/cups/swords/pentacles), rank (ace..king)/number,
upright[], reversed[] ‚Äî —Å–ø–∏—Å–∫–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤.

3.3.2 –°–ø—Ä—ç–¥—ã (—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –≤—Å–µ)

tarot_one_daily ‚Äî –û–¥–Ω–∞ –∫–∞—Ä—Ç–∞ (–¥–µ–Ω—å)

cards_required=1, positions:[{1,"–î–µ–Ω—å"}], allow_reversed=true, unique_cards=true.

tarot_three_ppf ‚Äî –ü—Ä–æ—à–ª–æ–µ‚Äì–ù–∞—Å—Ç–æ—è—â–µ–µ‚Äì–ë—É–¥—É—â–µ–µ

cards_required=3, positions:[Past,Present,Future].

tarot_three_decision ‚Äî –í—ã–±–æ—Ä –ê/–ë + —Å–æ–≤–µ—Ç

cards_required=3, positions:[–í–∞—Ä–∏–∞–Ω—Ç A, –í–∞—Ä–∏–∞–Ω—Ç B, –°–æ–≤–µ—Ç].

tarot_five_solution ‚Äî –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (5)

–ü–æ–∑–∏—Ü–∏–∏: –°–∏—Ç—É–∞—Ü–∏—è, –ö–æ—Ä–µ–Ω—å, –ß—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç, –ß—Ç–æ –º–µ—à–∞–µ—Ç, –ò—Å—Ö–æ–¥.

tarot_celtic_cross_10 ‚Äî –ö–µ–ª—å—Ç—Å–∫–∏–π –∫—Ä–µ—Å—Ç (10)

–ü–æ–∑–∏—Ü–∏–∏ (–∫–ª–∞—Å—Å–∏–∫–∞): –°–∏–≥–Ω–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –ü–µ—Ä–µ–∫—Ä–µ—Å—Ç, –û—Å–Ω–æ–≤–∞, –ü—Ä–æ—à–ª–æ–µ, –¶–µ–ª–∏, –ë—É–¥—É—â–µ–µ, –í—ã, –û–∫—Ä—É–∂–µ–Ω–∏–µ, –ù–∞–¥–µ–∂–¥—ã/–°—Ç—Ä–∞—Ö–∏, –ò—Ç–æ–≥.

tarot_relationship_7 ‚Äî –û—Ç–Ω–æ—à–µ–Ω–∏—è (7)

–í—ã, –ü–∞—Ä—Ç–Ω—ë—Ä, –°–≤—è–∑—å, –°–∏–ª—å–Ω–æ–µ, –°–ª–∞–±–æ–µ, –£—Ä–æ–∫, –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞.

tarot_career_7 ‚Äî –ö–∞—Ä—å–µ—Ä–∞ (7)

–°–∏—Ç—É–∞—Ü–∏—è, –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, –°–ª–∞–±—ã–µ, –®–∞–Ω—Å, –†–∏—Å–∫–∏, –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è, –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞.

tarot_yes_no_3 ‚Äî –î–∞/–ù–µ—Ç (3)

–ü–æ–∑–∏—Ç–∏–≤, –ù–µ–≥–∞—Ç–∏–≤, –ë–∞–ª–∞–Ω—Å; Writer –æ–±—è–∑–∞–Ω –¥–∞–≤–∞—Ç—å –≤–∑–≤–µ—à–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç (–Ω–µ –±–∏–Ω–∞—Ä–Ω—ã–π –æ—Ä–∞–∫—É–ª).

3.3.3 –ü—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∞

–î–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º: seed = SHA256(user_id || spread_id || yyyy-mm-dd || nonce).

–ë–µ–∑ –ø–æ–≤—Ç–æ—Ä–æ–≤ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Å–ø—Ä—ç–¥–∞, allow_reversed ‚Äî –ø–æ —Å–ø—Ä—ç–¥—É/–∫–æ–ª–æ–¥–µ, p_reversed=0.45 (–∫–æ–Ω—Ñ–∏–≥).

nonce –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ ¬´–ü–µ—Ä–µ—Ç—è–Ω—É—Ç—å¬ª.

3.3.4 Compose (–æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

–°–µ—Ç–∫–∞: 1, 3 (—Ä—è–¥), 5 (2+3), 7 (3+4), 10 (–ø–æ –ö–ö –º–∞–∫–µ—Ç—É), –ø–æ–¥–ø–∏—Å–∏: –ø–æ–∑–∏—Ü–∏—è + –∫–∞—Ä—Ç–∞; —Ä–µ–≤–µ—Ä—Å ‚Äî –ø–æ–≤–æ—Ä–æ—Ç 180¬∞.

–§—Ä–µ–π–º—ã/—Ç–µ–Ω–∏ ‚Äî –∏–∑ frame.png –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏.

3.3.5 Writer/Verifier (—Å—Ç—Ä–æ–≥–∏–µ)

–í—Ö–æ–¥ Writer: question, spread(positions), cards[{card_key, orientation, display, hints}].

–í—ã—Ö–æ–¥ Writer:
tldr (‚â§280),
per_position[{idx,card_key,role,meaning}],
synthesis,
actions[3],
disclaimers.

Verifier: —Å–≤–µ—Ä—è–µ—Ç card_key/orientation/–ø–æ–∑–∏—Ü–∏–∏; –ø—Ä–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ ‚Äî —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è.

3.4 –õ–ï–ù–û–†–ú–ê–ù (‚ô£ Lenormand)
3.4.1 –ö–æ–ª–æ–¥–∞/–∞—Å—Å–µ—Ç—ã

/assets/lenormand/<deck_id>/ + deck.json (36 –∫–∞—Ä—Ç, –Ω–æ–º–µ—Ä–∞ 1..36).

allow_reversed=false –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

3.4.2 –°–ø—Ä—ç–¥—ã

leno_three_line ‚Äî 3 –∫–∞—Ä—Ç—ã (–ª–∏–Ω–µ–π–Ω—ã–π).

leno_five_line ‚Äî 5 –∫–∞—Ä—Ç (—Å–∏—Ç—É–∞—Ü–∏—è-—Å–æ–≤–µ—Ç).

leno_nine_square ‚Äî 3√ó3 –∫–≤–∞–¥—Ä–∞—Ç (—Ü–µ–Ω—Ç—Ä ‚Äî —è–¥—Ä–æ).

leno_grand_tableau_36 ‚Äî –ë–æ–ª—å—à–æ–π —Ä–∞—Å–∫–ª–∞–¥ (–≤—Å—è –∫–æ–ª–æ–¥–∞, 4√ó8 + 4 –≤–Ω–∏–∑—É) ‚Äî —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–∏ Compose –∏ –∫—Ä–∞—Ç–∫–æ–π —Å–≤–æ–¥–∫–∏ Writer.

3.4.3 Compose

–õ–∏–Ω–µ–π–Ω—ã–µ ‚Äî —Ä—è–¥/–¥–≤–µ —Å—Ç—Ä–æ–∫–∏; 3√ó3 ‚Äî —Å–µ—Ç–∫–∞; GT ‚Äî –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ —Å –Ω–æ–º–µ—Ä–∞–º–∏.

–ü–æ–¥–ø–∏—Å–∏ –∫–∞—Ä—Ç ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–µ; –æ–±—â–∏–π TL;DR –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.

3.5 –†–£–ù–´ (·ö± Runes)
3.5.1 –ù–∞–±–æ—Ä/–∞—Å—Å–µ—Ç—ã

/assets/runes/<set_id>/ + set.json

runes[] {key, display, file, upright[], reversed[]?, can_reverse}

3.5.2 –°–ø—Ä—ç–¥—ã

runes_one ‚Äî 1 —Ä—É–Ω–∞ (–¥–µ–Ω—å/–æ—Ç–≤–µ—Ç).

runes_three_ppf ‚Äî –ø—Ä–æ—à–ª–æ–µ/–Ω–∞—Å—Ç–æ—è—â–µ–µ/–±—É–¥—É—â–µ–µ.

runes_five_cross ‚Äî –∫—Ä–µ—Å—Ç (—Ü–µ–Ω—Ç—Ä ‚Äî —Ç–µ–º–∞; —Å—Ç–æ—Ä–æ–Ω—ã ‚Äî —Ñ–∞–∫—Ç–æ—Ä—ã/—Å–æ–≤–µ—Ç).

3.5.3 –ü—Ä–∞–≤–∏–ª–∞

–î–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º –ø–æ seed, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤ —Å–ø—Ä—ç–¥–µ.

can_reverse ‚Äî –µ—Å–ª–∏ true, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å p_reversed=0.33.

3.6 –ù–£–ú–ï–†–û–õ–û–ì–ò–Ø (üî¢ Numerology)
3.6.1 –í—Ö–æ–¥/–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

–ò–º—è (–æ–¥–Ω–æ/–Ω–µ—Å–∫–æ–ª—å–∫–æ), –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (YYYY-MM-DD), –æ–ø—Ü. –≤—Ä–µ–º—è/–º–µ—Å—Ç–æ (–¥–ª—è —Å—É—Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤), —è–∑—ã–∫/–∞–ª—Ñ–∞–≤–∏—Ç.

–ü–∞—Ä–∞–º–µ—Ç—Ä system: "pythagor" –∏–ª–∏ "chaldean".

3.6.2 –ê—Å—Å–µ—Ç—ã

/assets/numerology/alphabets/*.json (RU/EN –∏ –ø—Ä.) ‚Äî —Ç–∞–±–ª–∏—Ü—ã –±—É–∫–≤–∞‚Üí—á–∏—Å–ª–æ –ø–æ —Å–∏—Å—Ç–µ–º–∞–º.

/assets/numerology/rules.json ‚Äî —Ä–µ–¥—É–∫—Ü–∏—è (keep_master 11/22/33), —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ª–∏—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ (personal_year/month/day), –ø—Ä–∞–≤–∏–ª–∞ Pinnacles/Challenges.

3.6.3 –†–∞—Å—á—ë—Ç—ã (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ)

Life Path: —Ä–µ–¥—É–∫—Ü–∏—è —Å—É–º–º—ã yyyy+mm+dd c —É—á—ë—Ç–æ–º master.

Birthday: —Ä–µ–¥—É–∫—Ü–∏—è dd.

Expression (Destiny): —Å—É–º–º–∞ –≤—Å–µ—Ö –±—É–∫–≤ –§–ò–û.

Soul Urge (Heart‚Äôs Desire): —Å—É–º–º–∞ –≥–ª–∞—Å–Ω—ã—Ö.

Personality: —Å—É–º–º–∞ —Å–æ–≥–ª–∞—Å–Ω—ã—Ö.

Maturity: —Ä–µ–¥—É–∫—Ü–∏—è (Life Path + Expression).

Personal Year/Month/Day: –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–æ–ø–∏—Å–∞—Ç—å –≤ rules.json).

Pinnacles/Challenges: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã (1-–π –ø–∏–Ω–æ–∫–ª: —Ä–µ–¥—É–∫—Ü–∏—è (month + day), –∏ —Ç.–¥.; Challenges ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ —Ä–∞–∑–Ω–∏—Ü—ã).

Transit Letters/Essence ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å.

3.6.4 Compose (–≤–∏–∑—É–∞–ª)

–ú–∞—Ç—Ä–∏—Ü–∞ –ü–∏—Ñ–∞–≥–æ—Ä–∞: —Å–µ—Ç–∫–∞ 3√ó3 —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–≤—Ç–æ—Ä–æ–≤ —Ü–∏—Ñ—Ä, –ª–µ–≥–µ–Ω–¥–∞.

–î–∏–∞–≥—Ä–∞–º–º—ã –ø–µ—Ä–∏–æ–¥–æ–≤: —à–∫–∞–ª–∞ Personal Year/Month, –ø–∏–Ω–∫–∏/–≤—ã–∑–æ–≤—ã (–ø—Ä–æ—Å—Ç–∞—è –ø–æ–ª–æ—Å–Ω–∞—è).

3.6.5 Writer/Verifier

Writer —Å—Ç—Ä–æ–∏—Ç –æ—Ç—á—ë—Ç –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö —á–∏—Å–µ–ª (–Ω–∏–∫–∞–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π).

Verifier —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤—Å–µ —á–∏—Å–ª–∞ –≤ —Ç–µ–∫—Å—Ç–µ —Å facts_json.

3.7 –ê–°–¢–†–û–õ–û–ì–ò–Ø (‚ú® Astrology)
3.7.1 –í—Ö–æ–¥

–î–∞—Ç–∞, –æ–ø—Ü. –≤—Ä–µ–º—è, –º–µ—Å—Ç–æ (–≥–µ–æ–∫–æ–¥ ‚Üí TZ). –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî —Å–æ–ª–∞—Ä (–±–µ–∑ –¥–æ–º–æ–≤) —Å –¥–∏—Å–∫–ª–µ–π–º–µ—Ä–æ–º.

3.7.2 –î–∞–Ω–Ω—ã–µ/–∞—Å—Å–µ—Ç—ã

–≠—Ñ–µ–º–µ—Ä–∏–¥—ã (–ø–æ–¥–∫–ª—é—á–∏—Ç—å —à–∏–Ω—É; –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è lightweight —Ä–µ–∂–∏–º —Å –ø—É–±–ª–∏—á–Ω—ã–º–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è–º–∏).

/assets/astrology/glyphs/*.png (–ø–ª–∞–Ω–µ—Ç—ã/–∑–Ω–∞–∫–∏/–∞—Å–ø–µ–∫—Ç—ã), astro.json (—Ü–≤–µ—Ç–∞/—Ç–æ–ª—â–∏–Ω—ã/–æ—Ä–±–∏—Å—ã).

3.7.3 –§–∞–∫—Ç—ã

–ü–æ–ª–æ–∂–µ–Ω–∏—è –ø–ª–∞–Ω–µ—Ç –ø–æ –∑–Ω–∞–∫–∞–º (+ –≥—Ä–∞–¥—É—Å—ã), –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –¥–æ–º–∞; –∞—Å–ø–µ–∫—Ç—ã (—Å—Ö–æ–¥—è—â–∏–µ—Å—è/—Ä–∞—Å—Ö–æ–¥—è—â–∏–µ—Å—è —Å –æ—Ä–±–∏—Å–∞–º–∏).

3.7.4 Compose

–ö–æ–ª–µ—Å–æ —Å –¥–æ–º–∞–º–∏/–∑–Ω–∞–∫–∞–º–∏, –ª–µ–≥–µ–Ω–¥–∞ —Ç–∞–±–ª–∏—Ü–µ–π (–ø–æ–∑–∏—Ü–∏–∏ –ø–ª–∞–Ω–µ—Ç). –í–µ—Å ‚â§ 3 –ú–ë.

3.7.5 Writer/Verifier

Writer –¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π —Ç–æ–ª—å–∫–æ –∫ facts.

Verifier –æ—Ç–∫–ª—é—á–∞–µ—Ç –ª—é–±—ã–µ ¬´–≤—ã–¥—É–º–∞–Ω–Ω—ã–µ¬ª –∞—Å–ø–µ–∫—Ç—ã/–ø–æ–∑–∏—Ü–∏–∏.

3.8 –°–ù–´ (üåô Dreams)
3.8.1 –í—Ö–æ–¥

–¢–µ–∫—Å—Ç —Å–Ω–∞, —Ç–µ–≥–∏ —ç–º–æ—Ü–∏–π, –∫–æ–Ω—Ç–µ–∫—Å—Ç ¬´–ø–µ—Ä–µ–¥ —Å–Ω–æ–º/–ø–æ—Å–ª–µ —Å–Ω–∞¬ª.

3.8.2 –ê—Å—Å–µ—Ç—ã

/assets/dreams/lexicon.json ‚Äî —Å–ª–æ–≤–∞—Ä—å —Å–∏–º–≤–æ–ª–æ–≤ —Å —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏ –∏ —Å–º—ã—Å–ª–∞–º–∏.

/assets/dreams/symbols/*.png ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤ (–æ–ø—Ü.).

3.8.3 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–∫—Ç–æ–≤

Extractor –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å–∏–º–≤–æ–ª—ã/—Ç–µ–º—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞ –ø–æ –ª–µ–∫—Å–∏–∫–æ–Ω—É, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç facts.

3.8.4 Compose

–ö–æ–ª–ª–∞–∂ 2‚Äì4 —Å–∏–º–≤–æ–ª–æ–≤ (–∏–ª–∏ –ø–æ–¥–±–æ—Ä —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ–æ—Ç–æ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏).

TL;DR + –¥–µ–π—Å—Ç–≤–∏—è (–º—è–≥–∫–æ). –î–∏—Å–∫–ª–µ–π–º–µ—Ä ‚Äî –Ω–µ –º–µ–¥.–ø–æ–º–æ—â—å.

3.9 –ö–û–ü–ò–†–ê–ô–¢–ï–† (‚úçÔ∏è) –∏ 3.10 –ê–°–°–ò–°–¢–ï–ù–¢ (ü§ñ)

–í–≤–æ–¥ —Ç–µ–º—ã/–±—Ä–∏—Ñ–∞.

Writer –≤ —Å—Ç—Ä–æ–≥–æ–º JSON: tldr, sections, actions.

–û–ø—Ü. –±–∞–Ω–Ω–µ—Ä/–ø–æ—Å—Ç–µ—Ä –ø–æ —Ç–µ–º–µ (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞—Ä—Ç–∞ –∏–ª–∏ –ø–æ–¥–±–æ—Ä –∏–∑ —Ñ–æ–Ω–æ–≤).

4) –ê—Å—Å–µ—Ç—ã: —Ñ–∞–π–ª–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
4.1 –ö–∞—Ç–∞–ª–æ–≥–∏
/assets
  /tarot/<deck_id>/cards/*.png, back.png, frame.png, deck.json
  /lenormand/<deck_id>/...
  /runes/<set_id>/...
  /astrology/{glyphs/*.png, astro.json}
  /dreams/{symbols/*.png, lexicon.json}
  /numerology/{alphabets/*.json, rules.json}
  /backgrounds/*.jpg|png
  /fonts/*.ttf

4.2 –ò–Ω–≥–µ—Å—Ç–µ—Ä

–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤, —Ä–∞–∑–º–µ—Ä–æ–≤ (—Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω), –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π –≤ JSON.

–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ –ë–î (decks) + –∫—ç—à –≤ –ø–∞–º—è—Ç–∏.

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏–Ω–∏–∞—Ç—é—Ä (–¥–ª—è –ò—Å—Ç–æ—Ä–∏–∏/–∞–¥–º–∏–Ω).

5) –ü—Ä–æ–¥—É–∫—Ç—ã, –ø–ª–∞—Ç–µ–∂–∏, –∫–≤–æ—Ç—ã
5.1 –ü—Ä–æ–¥—É–∫—Ç—ã

pack_3 (3 –∑–∞–ø—Ä–æ—Å–∞), pack_10 (10), unlimited_30d (–±–µ–∑–ª–∏–º–∏—Ç 30 –¥–Ω–µ–π —Å Fair-Use).

(–û–ø—Ü.) sub_30d ‚Äî —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–∞—è Stars-–ø–æ–¥–ø–∏—Å–∫–∞.

5.2 Stars/XTR

sendInvoice(currency="XTR", provider_token="")

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: pre_checkout_query ‚Üí answerPreCheckoutQuery(ok=True) ‚Üí successful_payment.

–ü–æ successful_payment ‚Äî —Å–æ–∑–¥–∞—Ç—å/–ø—Ä–æ–¥–ª–∏—Ç—å entitlement.

5.3 –ö–≤–æ—Ç—ã

–ü–∞–∫–µ—Ç: —Å–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞.

–ë–µ–∑–ª–∏–º–∏—Ç: fair_daily_cap (–∫–æ–Ω—Ñ–∏–≥), –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ (‚â§ 2).

–ê–Ω—Ç–∏-—Ñ–ª—É–¥: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª (–Ω–∞–ø—Ä., 5 —Å–µ–∫).

6) –î–æ—Å—Ç–∞–≤–∫–∞ –∏ –∏—Å—Ç–æ—Ä–∏—è

–°–æ–æ–±—â–µ–Ω–∏–µ #1: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ + TL;DR.

–°–æ–æ–±—â–µ–Ω–∏–µ #2: –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ç–µ–∫—Å—Ç + actions.

–ö–Ω–æ–ø–∫–∏: ¬´–î–æ—Ç—è–Ω—É—Ç—å¬ª, ¬´–î—Ä—É–≥–æ–π —Å–ø—Ä–µ–¥/—Ä–µ–∂–∏–º¬ª, ¬´PDF¬ª, ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª, ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª.

–ò—Å—Ç–æ—Ä–∏—è: draws (–º–∏–Ω–∏–∞—Ç—é—Ä—ã, –ø–æ–≤—Ç–æ—Ä, —É–≥–ª—É–±–ª–µ–Ω–∏–µ), readings (pdf_url, text_md).

7) –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ
7.1 –°–æ–±—ã—Ç–∏—è

start, form_step, form_completed, draw_started/finished, image_rendered, writer_ok, verifier_ok/failed, answer_sent, quota_spent, successful_payment, cta_clicked, error.

7.2 –£–¥–µ—Ä–∂–∞–Ω–∏–µ/–∞–ø—Å–µ–ª–ª—ã

¬´–î–Ω–µ–≤–Ω–∞—è –∫–∞—Ä—Ç–∞¬ª –±–µ—Å–ø–ª–∞—Ç–Ω–æ N/–¥–µ–Ω—å.

¬´–î–æ—Ç—è–Ω—É—Ç—å 1 –∫–∞—Ä—Ç—É¬ª (‚àí1 –∑–∞–ø—Ä–æ—Å) ‚Üí –±—ã—Å—Ç—Ä—ã–π follow-up.

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–µ—Å–µ—Ç–æ–≤ (–ö–∞—Ä—å–µ—Ä–∞/–û—Ç–Ω–æ—à–µ–Ω–∏—è/–î–µ–Ω—å–≥–∏).

–ö–æ–ª–ª–µ–∫—Ü–∏–∏/–∞—á–∏–≤–∫–∏ (7 —Ä–∞–∑–Ω—ã—Ö —Å–ø—Ä–µ–¥–æ–≤ ‚Üí +1 –∑–∞–ø—Ä–æ—Å).

–†–µ—Ñ–µ—Ä–∞–ª —á–µ—Ä–µ–∑ —à–∞—Ä–∏–Ω–≥ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (—Ç–æ–Ω–∫–∏–π watermark + UTM).

8) –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (DDL ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã)

–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã (–º–∏–Ω–∏–º—É–º):

users(id BIGSERIAL PK, tg_id BIGINT UNIQUE, username TEXT, locale TEXT, created_at TIMESTAMPTZ, last_seen TIMESTAMPTZ)

profiles(user_id FK, name_raw TEXT, name_norm TEXT, dob_date DATE, birth_time TIME NULL, birth_place TEXT, tz TEXT, consent_at TIMESTAMPTZ)

orders(id BIGSERIAL PK, user_id FK, product TEXT, amount_xtr INT, currency TEXT, status TEXT, external_id TEXT, created_at TIMESTAMPTZ)

entitlements(id BIGSERIAL PK, user_id FK, product TEXT, status TEXT, expires_at TIMESTAMPTZ NULL, quota_total INT, quota_left INT, fair_daily_cap INT, created_at TIMESTAMPTZ)

usages(id BIGSERIAL PK, user_id FK, expert TEXT, cost INT, created_at TIMESTAMPTZ)

decks(id BIGSERIAL PK, type TEXT, name_json JSONB, config_json JSONB, created_at TIMESTAMPTZ)

draws(id BIGSERIAL PK, user_id FK, expert TEXT, deck_id TEXT, spread_id TEXT, seed TEXT, facts_json JSONB, image_url TEXT, created_at TIMESTAMPTZ)

readings(id BIGSERIAL PK, user_id FK, expert TEXT, input_json JSONB, facts_json JSONB, text_md TEXT, pdf_url TEXT, images_json JSONB, created_at TIMESTAMPTZ)

events(id BIGSERIAL PK, user_id FK, event TEXT, props_json JSONB, ts TIMESTAMPTZ)

–ò–Ω–¥–µ–∫—Å—ã: users(tg_id), entitlements(user_id,status), draws(user_id,created_at DESC), events(ts,event).

9) NLP-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (—Å—Ç—Ä–æ–≥–æ JSON)
9.1 Guide

Input: {expert, step, locale} ‚Üí Output: {tip} (‚â§ 200 —Å–∏–º–≤.)

9.2 Writer

Input: {facts, locale, tone, user_goal}
Output (strict):

{
  "tldr": "string <= 280",
  "sections": [ {"title": "string", "body_md":"string"} ],
  "actions": ["–®–∞–≥ 1 ...", "–®–∞–≥ 2 ...", "–®–∞–≥ 3 ..."],
  "disclaimers": ["string", "..."]
}

9.3 Verifier

Input: {facts, markdown} ‚Üí Output: {ok: boolean, diffs: [{path, expected, found}]}
–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ‚Üí –∞–≤—Ç–æ–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è; 2 –Ω–µ—É–¥–∞—á–∏ ‚Üí fallback-–æ—Ç–≤–µ—Ç (–±–µ–∑ —Å–ø–∏—Å–∞–Ω–∏—è).

10) PDF/—ç–∫—Å–ø–æ—Ä—Ç

HTML (Jinja2) ‚Üí PDF (WeasyPrint/Chromium).

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: ‚â§ 10 –ú–ë.

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ S3, presigned URLs.

11) –ê–¥–º–∏–Ω

/admin/metrics (read-only JSON): MAU/DAU, –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ —ç–∫—Å–ø–µ—Ä—Ç–∞–º/–ø—Ä–æ–¥—É–∫—Ç–∞–º, –±–∞–ª–∞–Ω—Å Stars, –∞–∫—Ç–∏–≤–Ω—ã–µ –±–µ–∑–ª–∏–º–∏—Ç—ã, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –ø—Ä–æ—Ü–µ–Ω—Ç Verifier-fail.

/admin/decks ‚Äî —Å–ø–∏—Å–æ–∫ –∫–æ–ª–æ–¥ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∞—Å—Å–µ—Ç–æ–≤).

/admin/broadcast ‚Äî (–æ–ø—Ü.) —Ä–∞—Å—Å—ã–ª–∫–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º.

12) –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

p95 –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ‚â§ 8 —Å–µ–∫ (–±–µ–∑ —Ç—è–∂–µ–ª—ã—Ö —á–∞—Ä—Ç–æ–≤), ‚â§ 15 —Å–µ–∫ (—á–∞—Ä—Ç—ã/–∞—Å—Ç—Ä–æ).

–û—à–∏–±–∫–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: —Ä–µ—Ç—Ä–∞–∏ LLM, DLQ –¥–ª—è –∑–∞–¥–∞—á, –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–æ–∫ –≤ Telegram.

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: PII-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ª–æ–≥–∞—Ö, —Å–µ–∫—Ä–µ—Ç—ã —Ç–æ–ª—å–∫–æ –∏–∑ ENV.

13) –¢–µ—Å—Ç—ã –∏ –ø—Ä–∏—ë–º–∫–∞ (DoD)

Unit/Component

–ò–Ω–≥–µ—Å—Ç–µ—Ä –∞—Å—Å–µ—Ç–æ–≤: —Å—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤/—Ñ–∞–π–ª–æ–≤.

Draw: –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –ø–æ seed; —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å/—Ä–µ–≤–µ—Ä—Å—ã; –≤—Å–µ —Å–ø—Ä—ç–¥—ã.

Compose: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–µ—Ç–∫–∏ (1/3/5/7/10/3√ó3/GT/–∫—Ä–µ—Å—Ç), –ø–æ–¥–ø–∏—Å–∏, –≤–µ—Å —Ñ–∞–π–ª–∞.

Numerology: golden-–Ω–∞–±–æ—Ä—ã —á–∏—Å–µ–ª (Life Path, Expression, Soul Urge, Personality, Birthday, Maturity, PY/PM/PD, Pinnacles/Challenges).

Astrology: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏/–∞—Å–ø–µ–∫—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞—Ç.

Dreams: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –ª–µ–∫—Å–∏–∫–æ–Ω–∞.

Writer/Verifier: strict JSON, 0 ¬´–≤—ã–¥—É–º–∞–Ω–Ω—ã—Ö¬ª —Ñ–∞–∫—Ç–æ–≤.

E2E

–ü–æ–ª–Ω—ã–π —Ñ–ª–æ—É –∫–∞–∂–¥–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ (—Ñ–æ—Ä–º–∞ ‚Üí –∫–∞—Ä—Ç–∏–Ω–∫–∞ ‚Üí —Ç–µ–∫—Å—Ç).

Stars: invoice ‚Üí pre_checkout ‚Üí successful_payment ‚Üí entitlement ‚Üí —Å–ø–∏—Å–∞–Ω–∏–µ.

–õ–∏–º–∏—Ç—ã: –ø–∞–∫–µ—Ç/–±–µ–∑–ª–∏–º–∏—Ç; fair-use; –∞–Ω—Ç–∏-—Ñ–ª—É–¥; –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º ‚â§ 2.

–ò—Å—Ç–æ—Ä–∏—è: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –ø–æ–≤—Ç–æ—Ä, ¬´–¥–æ—Ç—è–Ω—É—Ç—å¬ª.

–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è: —Ñ–∞–Ω–Ω–µ–ª /start ‚Üí form_completed ‚Üí paid ‚Üí answer_sent –∑–∞–ø–æ–ª–Ω–µ–Ω.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

README (–¥–µ–ø–ª–æ–π), .env.sample, FAQ –ø–æ –∞—Å—Å–µ—Ç–∞–º (–∫–∞–∫ –ø–æ–ª–æ–∂–∏—Ç—å –∫–æ–ª–æ–¥—É/—Ä—É–Ω—ã/–ª–µ–∫—Å–∏–∫–æ–Ω/–∞–ª—Ñ–∞–≤–∏—Ç—ã), runbook –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.

14) –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Codex (–∂—ë—Å—Ç–∫–æ)

–°–¥–µ–ª–∞—Ç—å –≤—Å–µ –º–æ–¥—É–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Å–ø—Ä—ç–¥—ã –∏ –≤–∏–∑—É–∞–ª—ã —Ü–µ–ª–∏–∫–æ–º.

–ù–∏–∫–∞–∫–∏—Ö ¬´–ø—Ä–∏–º–µ—Ä–æ–≤¬ª, ¬´TODO¬ª –∏–ª–∏ ¬´–∑–∞–≥–ª—É—à–µ–∫¬ª. –í—Å–µ –∫–Ω–æ–ø–∫–∏ –∏ —ç–∫—Ä–∞–Ω—ã ‚Äî —Ä–∞–±–æ—á–∏–µ.

–°—Ç—Ä–æ–≥–∏–µ JSON-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ NLP, Verifier ‚Äî –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω; –æ—à–∏–±–∫–∏ ‚Äî –∞–≤—Ç–æ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è.

–ü–æ–ª–Ω–∞—è –≤–∏—Ç—Ä–∏–Ω–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ –∏ —Ä–µ–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Stars (XTR) —Å —É—á—ë—Ç–æ–º –∫–≤–æ—Ç.

Asset pipeline: –≤–∞–ª–∏–¥–µ–Ω –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è (—Ç—ã –∫–ª–∞–¥—ë—à—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏ deck.json ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç).

RU/EN –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

–ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–¥–º–∏–Ω-—Å—Ä–µ–∑—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç.

–ö–æ–¥ ‚Äî –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è –∫–∞—á–µ—Å—Ç–≤–∞ (—Ç–∏–ø–∏–∑–∞—Ü–∏—è, —Ç–µ—Å—Ç—ã, –ø–æ–∫—Ä—ã—Ç–∏–µ, –º–∏–≥—Ä–∞—Ü–∏–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ).

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A: –ì–æ—Ç–æ–≤—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–ø—Ä—ç–¥–æ–≤ (–¥–ª—è registry)

Tarot:

tarot_one_daily, tarot_three_ppf, tarot_three_decision, tarot_five_solution,
tarot_celtic_cross_10, tarot_relationship_7, tarot_career_7, tarot_yes_no_3.

Lenormand:

leno_three_line, leno_five_line, leno_nine_square, leno_grand_tableau_36.

Runes:

runes_one, runes_three_ppf, runes_five_cross.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ B: –ü—Ä–∞–≤–∏–ª–∞ seed/nonce
seed = SHA256( str(user_id) + "|" + expert + "|" + spread_id + "|" + YYYYMMDD + "|" + nonce )
nonce = 0 –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—ã—Ç—è–≥–∞; +1 –ø—Ä–∏ ¬´–ü–µ—Ä–µ—Ç—è–Ω—É—Ç—å¬ª/¬´–î–æ—Ç—è–Ω—É—Ç—å¬ª

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ C: –°–ª–æ–≤–∞—Ä—å CTA (–º–∏–Ω–∏–º—É–º)

¬´–î–æ—Ç—è–Ω—É—Ç—å 1 –∫–∞—Ä—Ç—É¬ª (‚Äì1 –∑–∞–ø—Ä–æ—Å)

¬´–°–¥–µ–ª–∞—Ç—å –¥—Ä—É–≥–æ–π —Å–ø—Ä–µ–¥¬ª

¬´–£—Ç–æ—á–Ω–∏—Ç—å –≤–æ–ø—Ä–æ—Å¬ª

¬´PDF¬ª | ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª | ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª

¬´–ü–µ—Ä–µ–π—Ç–∏ –∫ [–¥—Ä—É–≥–æ–º—É —ç–∫—Å–ø–µ—Ä—Ç—É]¬ª (–∫—Ä–µ—Å—Ç-–ø—Ä–æ–º–æ)

¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å –∫–≤–æ—Ç—É¬ª (–≤–∏—Ç—Ä–∏–Ω–∞ —Ç–∞—Ä–∏—Ñ–æ–≤)
